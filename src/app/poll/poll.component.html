<ng-container>
  <ng-container *ngIf="poll$ | async; let poll">
    <mat-card>
      <h2>{{ poll.name }}</h2>
      <ng-container *ngIf="pollItems$ | async; let pollItems">
        <div [transition-group]="'flip-list'">
          <mat-card transition-group-item *ngFor="let pollItem of pollItems.pollItems.sort(sortPollItems); trackBy: trackById" class="option-card"
            (click)="pollItemClick(poll, pollItems.pollItems, pollItem)" [title]="canVote(poll, pollItems.pollItems, pollItem) ? 'Click to vote!' : 'You have already voted'"
            [ngClass]="{'voted': hasVoted(pollItem)}">
            <div class="bg" [style.width.%]="getBgWidth(pollItems.pollItems, pollItem)"></div>
            <mat-icon class="voted">{{ hasVoted(pollItem) ? 'check' : '' }}</mat-icon>
            {{ pollItem.name }}
            <div class="vote-count" *ngIf="pollItem.voters.length" color="accent" title="There are {{ pollItem.voters.length }} voters for this option">{{ pollItem.voters.length }}</div>
          </mat-card>
        </div>
      </ng-container>
    </mat-card>
  </ng-container>
</ng-container>